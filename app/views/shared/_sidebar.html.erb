<div class="flex grow flex-col gap-y-5 overflow-y-auto bg-primary px-6 pb-4">
  <div class="flex h-16 shrink-0 items-center gap-3">
    <%= clinic_logo_or_default %>
    <span class="text-white font-semibold text-lg truncate"><%= clinic_name %></span>
  </div>

  <nav class="flex flex-1 flex-col">
    <ul role="list" class="flex flex-1 flex-col gap-y-7">
      <li>
        <ul role="list" class="-mx-2 space-y-1">
          <%= sidebar_link "Dashboard", dashboard_path, icon: "home" %>
          <%= sidebar_link "Patients", patients_path, icon: "users" %>
          <%= sidebar_link "Appointments", appointments_path, icon: "calendar" %>
        </ul>
      </li>

      <% if current_user.owner_or_admin? %>
        <li>
          <div class="text-xs font-semibold leading-6 text-indigo-200 uppercase tracking-wider">Management</div>
          <ul role="list" class="-mx-2 mt-2 space-y-1">
            <%= sidebar_link "Staff", staff_index_path, icon: "user-plus" %>
            <%= sidebar_link "Tags", tags_path, icon: "tag" %>
            <% if current_user.owner? %>
              <%= sidebar_link "Settings", clinic_settings_path, icon: "settings" %>
            <% end %>
          </ul>
        </li>
      <% end %>

      <li class="mt-auto">
        <div class="flex items-center gap-x-3 px-2 py-3 text-sm font-semibold text-indigo-200">
          <div class="h-8 w-8 rounded-full bg-indigo-700 flex items-center justify-center text-white text-xs">
            <%= current_user.first_name[0] %><%= current_user.last_name[0] %>
          </div>
          <div class="flex-1 truncate">
            <p class="text-white text-sm"><%= current_user.full_name %></p>
            <p class="text-indigo-300 text-xs capitalize"><%= current_user.role %></p>
          </div>
        </div>
        <%= link_to "Sign out", destroy_user_session_path, data: { turbo_method: :delete }, class: "block px-2 py-1 text-xs text-indigo-300 hover:text-white" %>
      </li>
    </ul>
  </nav>
</div>
